<!doctype html>
<!DOCTYPE html>

<!DOCTYPE html>

<!DOCTYPE html>

<html lang="tr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0" name="viewport"/>
<title>Finapsis - Ultimate Suite</title>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0" name="viewport"/>
<title>Finapsis - Ultimate Suite</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<!-- App CSS -->
<link href="./css/app.css" rel="stylesheet"/>
<!-- Bubble'dan gelecek session köprüsü (Bubble içinde set edeceğiz) -->
<script>
    window.__SESSION__ = window.__SESSION__ || null;
    // İstersen Bubble buraya FIN_DATA_BASE vs override koyabilir:
    window.FIN_DATA_BASE = window.FIN_DATA_BASE || "https://finapsis-data.nameless-dream-696b.workers.dev";
  </script>
</head>
<body>
<div id="preloader"><div class="spinner"></div></div>
<nav class="app-tabs">
<button class="tab-btn active" onclick="switchTab('screener.html')">Skorlama</button>
<button class="tab-btn" onclick="switchTab('companieslist.html')">Şirketler</button>
<button class="tab-btn" onclick="switchTab('sectors')">Sektörler</button>
<button class="tab-btn" onclick="switchTab('diagrams')">Diyagramlar</button>
<button class="tab-btn" onclick="switchTab('karsilastirma.html')">Karşılaştırma</button>
<button class="tab-btn" onclick="switchTab('portfolio.html')">Portföy</button>
<button class="tab-btn" onclick="switchTab('detail')">Varlık Detay</button>
<button class="tab-btn" onclick="switchTab('indicators')">Göstergeler</button>
<button class="tab-btn" onclick="switchTab('calendarlist')">Takvim</button>
<button class="tab-btn" onclick="switchTab('news')">Haberler</button>
</nav>
<div id="views-root"></div>
<div class="modal-overlay" id="calListModalOverlay">
<div class="modal-content" id="calListModalContent">
<div id="calFormContainer">
<div class="modal-title">Etkinlik Hatırlatıcı</div>
<div class="input-group">
<label>Ad Soyad</label>
<input id="calUserName" placeholder="Adınız Soyadınız" type="text"/>
</div>
<div class="input-group">
<label>E-posta Adresi</label>
<input id="calUserEmail" placeholder="ornek@mail.com" type="email"/>
</div>
<div class="check-group">
<input id="calCheckConsent" type="checkbox"/>
<label for="calCheckConsent">Bilgilerimin kaydedilmesine ve işlenmesine izin veriyorum.</label>
</div>
<div class="check-group">
<input id="calCheckNews" type="checkbox"/>
<label for="calCheckNews">Finapsis gelişmelerinden haberdar olmak istiyorum.</label>
</div>
<button class="submit-btn" disabled="" id="calSendBtn">Beni Bilgilendir</button>
<button onclick="calCloseListModal()" style="background:none; border:none; color:#aaa; width:100%; margin-top:10px; font-size:12px; cursor:pointer;">Vazgeç</button>
</div>
<div id="calSuccessContainer" style="display:none; text-align:center; padding: 20px 0;">
<div style="font-size: 50px; color: #c2f50e; margin-bottom: 15px;">✓</div>
<div class="modal-title" style="margin-bottom: 8px;">Hatırlatıcı Oluşturuldu!</div>
<p style="color: #aaa; font-size: 14px;">Etkinlik gerçekleştiğinde size mail göndereceğiz.</p>
</div>
</div>
</div>
<div id="fpRowMenuOverlay" onclick="fpCloseRowMenu()">
<div id="fpRowMenu" onclick="event.stopPropagation()">
<div class="fpMenuHead">
<div class="fpMenuTitle">İşlemler • <span class="fpMenuTicker" id="fpMenuTicker">-</span></div>
<div class="fpMenuClose" onclick="fpCloseRowMenu()"><i class="fa-solid fa-xmark"></i></div>
</div>
<div class="fpMenuItem" id="fpMenuDetail">
<div class="fpMenuIcon"><i class="fa-solid fa-arrow-up-right-from-square"></i></div>
      Detaya Git
    </div>
<div class="fpMenuItem" id="fpMenuBuy">
<div class="fpMenuIcon"><i class="fa-solid fa-cart-shopping"></i></div>
      Al
    </div>
<div class="fpMenuItem" id="fpMenuSell">
<div class="fpMenuIcon"><i class="fa-solid fa-right-left"></i></div>
      Sat
    </div>
<div class="fpMenuItem" id="fpMenuWatch">
<div class="fpMenuIcon"><i class="fa-solid fa-eye"></i></div>
      İzle
    </div>
</div>
</div>
<!-- App JS -->
<script>
(async function() {
  const files = ["view-screener.html", "view-companies.html", "view-sectors.html", "view-diagrams.html", "view-compare.html", "view-portfolio.html", "view-detail.html", "view-indicators.html", "view-calendar-list.html", "view-news.html"];
  const root = document.getElementById('views-root');
  if (!root) return;

  // 1) inject tab html
  for (const f of files) {
    try {
      const r = await fetch('./tabs/' + f, { cache: 'no-store' });
      if (!r.ok) throw new Error('fetch failed: ' + r.status);
      const t = await r.text();
      root.insertAdjacentHTML('beforeend', t);
    } catch (e) {
      console.error('[BOOT] failed loading', f, e);
    }
  }

  // 2) load JS parts sequentially (order matters)
  const parts = ["./js/app.part01.js", "./js/app.part02.js", "./js/app.part03.js", "./js/app.part04.js", "./js/app.part05.js", "./js/app.part06.js"];
  for (const src of parts) {
    await new Promise((resolve, reject) => {
      const sc = document.createElement('script');
      sc.src = src;
      sc.defer = true;
      sc.onload = resolve;
      sc.onerror = reject;
      document.body.appendChild(sc);
    });
  }
})();
</script></body>
</html>
